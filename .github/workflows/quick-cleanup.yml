# ARQUIVO: .github/workflows/quick-cleanup.yml
name: "‚ö° Limpeza R√°pida"

on:
  workflow_dispatch:
    inputs:
      age_hours:
        description: 'Idade m√≠nima das execu√ß√µes (horas)'
        required: false
        default: '1'
      delete_files:
        description: 'Tamb√©m limpar arquivos tempor√°rios?'
        required: false
        default: false
        type: boolean

jobs:
  quick-cleanup:
    runs-on: ubuntu-latest
    steps:
      - name: "üóëÔ∏è Limpar execu√ß√µes"
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
          AGE_HOURS: ${{ github.event.inputs.age_hours }}
        run: |
          gh api --method DELETE \
            "/repos/${{ github.repository }}/actions/runs" \
            --jq '.total_count' \
            -H "Accept: application/vnd.github.v3+json" \
            --silent || true
          echo "‚úÖ Limpeza r√°pida conclu√≠da"
